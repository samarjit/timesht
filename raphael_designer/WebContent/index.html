<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Insert title here</title>
<link rel="stylesheet" href="js/demo.css" type="text/css" media="screen">
<link rel="stylesheet" href="js/demo-print.css" type="text/css" media="print">
 
<script type="text/javascript" src="js/jquery-1.4.4.min.js"  ></script>
<script src="js/raphael.js"></script>
 
 

<script type="text/javascript">
var bpmnsrc="%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%20%0A%3Cdefinitions%20id%3D%22Definition%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20targetNamespace%3D%22http%3A%2f%2fwww.jboss.org%2fdrools%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20typeLanguage%3D%22http%3A%2f%2fwww.java.com%2fjavaTypes%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20expressionLanguage%3D%22http%3A%2f%2fwww.mvel.org%2f2.0%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3D%22http%3A%2f%2fwww.omg.org%2fspec%2fBPMN%2f20100524%2fMODEL%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Axsi%3D%22http%3A%2f%2fwww.w3.org%2f2001%2fXMLSchema-instance%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xsi%3AschemaLocation%3D%22http%3A%2f%2fwww.omg.org%2fspec%2fBPMN%2f20100524%2fMODEL%20BPMN20.xsd%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Ag%3D%22http%3A%2f%2fwww.jboss.org%2fdrools%2fflow%2fgpd%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Abpmndi%3D%22http%3A%2f%2fwww.omg.org%2fspec%2fBPMN%2f20100524%2fDI%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Adc%3D%22http%3A%2f%2fwww.omg.org%2fspec%2fDD%2f20100524%2fDC%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Adi%3D%22http%3A%2f%2fwww.omg.org%2fspec%2fDD%2f20100524%2fDI%22%0A%20%20%20%20%20%20%20%20%20%20%20%20%20xmlns%3Atns%3D%22http%3A%2f%2fwww.jboss.org%2fdrools%22%3E%0A%0A%20%20%3Cprocess%20processType%3D%22Private%22%20isExecutable%3D%22true%22%20id%3D%22newId%22%20name%3D%22droolflow.b%22%20%3E%0A%0A%20%20%20%20%3C%21--%20nodes%20--%3E%0A%20%20%20%20%3CstartEvent%20id%3D%22_1%22%20name%3D%22Start%22%20%2f%3E%0A%20%20%20%20%3CuserTask%20id%3D%22_2%22%20name%3D%22User%20Task%22%20%3E%0A%20%20%20%20%20%20%3CextensionElements%3E%0A%20%20%20%20%20%20%20%20%3Ctns%3AonEntry-script%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cscript%3ESystem.out.println%28%22script%20to%20execute%20on%20entry%22%29%3B%3C%2fscript%3E%0A%20%20%20%20%20%20%20%20%3C%2ftns%3AonEntry-script%3E%0A%20%20%20%20%20%20%20%20%3Ctns%3AonExit-script%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cscript%3ESystem.out.println%28%22On%20exit%20Actions%22%29%3B%3C%2fscript%3E%0A%20%20%20%20%20%20%20%20%3C%2ftns%3AonExit-script%3E%0A%20%20%20%20%20%20%3C%2fextensionElements%3E%0A%20%20%20%20%20%20%3CioSpecification%3E%0A%20%20%20%20%20%20%20%20%3CdataInput%20id%3D%22_2_MyparameterInput%22%20name%3D%22Myparameter%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3CdataInput%20id%3D%22_2_Myparameter2Input%22%20name%3D%22Myparameter2%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3CdataInput%20id%3D%22_2_CommentInput%22%20name%3D%22Comment%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3CdataInput%20id%3D%22_2_SkippableInput%22%20name%3D%22Skippable%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3CdataInput%20id%3D%22_2_TaskNameInput%22%20name%3D%22TaskName%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3CdataInput%20id%3D%22_2_ContentInput%22%20name%3D%22Content%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3CdataInput%20id%3D%22_2_GroupIdInput%22%20name%3D%22GroupId%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3CdataOutput%20id%3D%22_2_resultParam1Output%22%20name%3D%22resultParam1%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3CdataOutput%20id%3D%22_2_resultParam2Output%22%20name%3D%22resultParam2%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3CinputSet%3E%0A%20%20%20%20%20%20%20%20%20%20%3CdataInputRefs%3E_2_MyparameterInput%3C%2fdataInputRefs%3E%0A%20%20%20%20%20%20%20%20%20%20%3CdataInputRefs%3E_2_Myparameter2Input%3C%2fdataInputRefs%3E%0A%20%20%20%20%20%20%20%20%20%20%3CdataInputRefs%3E_2_CommentInput%3C%2fdataInputRefs%3E%0A%20%20%20%20%20%20%20%20%20%20%3CdataInputRefs%3E_2_SkippableInput%3C%2fdataInputRefs%3E%0A%20%20%20%20%20%20%20%20%20%20%3CdataInputRefs%3E_2_TaskNameInput%3C%2fdataInputRefs%3E%0A%20%20%20%20%20%20%20%20%20%20%3CdataInputRefs%3E_2_ContentInput%3C%2fdataInputRefs%3E%0A%20%20%20%20%20%20%20%20%20%20%3CdataInputRefs%3E_2_GroupIdInput%3C%2fdataInputRefs%3E%0A%20%20%20%20%20%20%20%20%3C%2finputSet%3E%0A%20%20%20%20%20%20%20%20%3CoutputSet%3E%0A%20%20%20%20%20%20%20%20%20%20%3CdataOutputRefs%3E_2_resultParam1Output%3C%2fdataOutputRefs%3E%0A%20%20%20%20%20%20%20%20%20%20%3CdataOutputRefs%3E_2_resultParam2Output%3C%2fdataOutputRefs%3E%0A%20%20%20%20%20%20%20%20%3C%2foutputSet%3E%0A%20%20%20%20%20%20%3C%2fioSpecification%3E%0A%20%20%20%20%20%20%3CdataInputAssociation%3E%0A%20%20%20%20%20%20%20%20%3CsourceRef%3EMyvariable1%3C%2fsourceRef%3E%0A%20%20%20%20%20%20%20%20%3CtargetRef%3E_2_MyparameterInput%3C%2ftargetRef%3E%0A%20%20%20%20%20%20%3C%2fdataInputAssociation%3E%0A%20%20%20%20%20%20%3CdataInputAssociation%3E%0A%20%20%20%20%20%20%20%20%3CsourceRef%3EMyvariable2%3C%2fsourceRef%3E%0A%20%20%20%20%20%20%20%20%3CtargetRef%3E_2_Myparameter2Input%3C%2ftargetRef%3E%0A%20%20%20%20%20%20%3C%2fdataInputAssociation%3E%0A%20%20%20%20%20%20%3CdataInputAssociation%3E%0A%20%20%20%20%20%20%20%20%3CtargetRef%3E_2_CommentInput%3C%2ftargetRef%3E%0A%20%20%20%20%20%20%20%20%3Cassignment%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cfrom%20xsi%3Atype%3D%22tFormalExpression%22%3EMycomment1%3C%2ffrom%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cto%20xsi%3Atype%3D%22tFormalExpression%22%3E_2_CommentInput%3C%2fto%3E%0A%20%20%20%20%20%20%20%20%3C%2fassignment%3E%0A%20%20%20%20%20%20%3C%2fdataInputAssociation%3E%0A%20%20%20%20%20%20%3CdataInputAssociation%3E%0A%20%20%20%20%20%20%20%20%3CtargetRef%3E_2_SkippableInput%3C%2ftargetRef%3E%0A%20%20%20%20%20%20%20%20%3Cassignment%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cfrom%20xsi%3Atype%3D%22tFormalExpression%22%3Efalse%3C%2ffrom%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cto%20xsi%3Atype%3D%22tFormalExpression%22%3E_2_SkippableInput%3C%2fto%3E%0A%20%20%20%20%20%20%20%20%3C%2fassignment%3E%0A%20%20%20%20%20%20%3C%2fdataInputAssociation%3E%0A%20%20%20%20%20%20%3CdataInputAssociation%3E%0A%20%20%20%20%20%20%20%20%3CtargetRef%3E_2_TaskNameInput%3C%2ftargetRef%3E%0A%20%20%20%20%20%20%20%20%3Cassignment%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cfrom%20xsi%3Atype%3D%22tFormalExpression%22%3EtaskName%3C%2ffrom%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cto%20xsi%3Atype%3D%22tFormalExpression%22%3E_2_TaskNameInput%3C%2fto%3E%0A%20%20%20%20%20%20%20%20%3C%2fassignment%3E%0A%20%20%20%20%20%20%3C%2fdataInputAssociation%3E%0A%20%20%20%20%20%20%3CdataInputAssociation%3E%0A%20%20%20%20%20%20%20%20%3CtargetRef%3E_2_ContentInput%3C%2ftargetRef%3E%0A%20%20%20%20%20%20%20%20%3Cassignment%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cfrom%20xsi%3Atype%3D%22tFormalExpression%22%3Enot%20sure%20what%20a%20content%20is%3C%2ffrom%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cto%20xsi%3Atype%3D%22tFormalExpression%22%3E_2_ContentInput%3C%2fto%3E%0A%20%20%20%20%20%20%20%20%3C%2fassignment%3E%0A%20%20%20%20%20%20%3C%2fdataInputAssociation%3E%0A%20%20%20%20%20%20%3CdataInputAssociation%3E%0A%20%20%20%20%20%20%20%20%3CtargetRef%3E_2_GroupIdInput%3C%2ftargetRef%3E%0A%20%20%20%20%20%20%20%20%3Cassignment%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cfrom%20xsi%3Atype%3D%22tFormalExpression%22%3EMygroup1%3C%2ffrom%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cto%20xsi%3Atype%3D%22tFormalExpression%22%3E_2_GroupIdInput%3C%2fto%3E%0A%20%20%20%20%20%20%20%20%3C%2fassignment%3E%0A%20%20%20%20%20%20%3C%2fdataInputAssociation%3E%0A%20%20%20%20%20%20%3CdataOutputAssociation%3E%0A%20%20%20%20%20%20%20%20%3CsourceRef%3E_2_resultParam1Output%3C%2fsourceRef%3E%0A%20%20%20%20%20%20%20%20%3CtargetRef%3EresultParamVariable1%3C%2ftargetRef%3E%0A%20%20%20%20%20%20%3C%2fdataOutputAssociation%3E%0A%20%20%20%20%20%20%3CdataOutputAssociation%3E%0A%20%20%20%20%20%20%20%20%3CsourceRef%3E_2_resultParam2Output%3C%2fsourceRef%3E%0A%20%20%20%20%20%20%20%20%3CtargetRef%3EresultParamVariable2%3C%2ftargetRef%3E%0A%20%20%20%20%20%20%3C%2fdataOutputAssociation%3E%0A%20%20%20%20%20%20%3CpotentialOwner%3E%0A%20%20%20%20%20%20%20%20%3CresourceAssignmentExpression%3E%0A%20%20%20%20%20%20%20%20%20%20%3CformalExpression%3EMyAct1%3C%2fformalExpression%3E%0A%20%20%20%20%20%20%20%20%3C%2fresourceAssignmentExpression%3E%0A%20%20%20%20%20%20%3C%2fpotentialOwner%3E%0A%20%20%20%20%3C%2fuserTask%3E%0A%20%20%20%20%3CuserTask%20id%3D%22_3%22%20name%3D%22User%20Task%22%20%3E%0A%20%20%20%20%20%20%3CioSpecification%3E%0A%20%20%20%20%20%20%20%20%3CinputSet%3E%0A%20%20%20%20%20%20%20%20%3C%2finputSet%3E%0A%20%20%20%20%20%20%20%20%3CoutputSet%3E%0A%20%20%20%20%20%20%20%20%3C%2foutputSet%3E%0A%20%20%20%20%20%20%3C%2fioSpecification%3E%0A%20%20%20%20%3C%2fuserTask%3E%0A%20%20%20%20%3CendEvent%20id%3D%22_4%22%20name%3D%22End%22%20%3E%0A%20%20%20%20%20%20%20%20%3CterminateEventDefinition%2f%3E%0A%20%20%20%20%3C%2fendEvent%3E%0A%20%20%20%20%3CscriptTask%20id%3D%22_5%22%20name%3D%22Script2%22%20scriptFormat%3D%22http%3A%2f%2fwww.java.com%2fjava%22%20%3E%0A%20%20%20%20%20%20%3Cscript%3ESystem.out.println%28%22Script%20task%20is%20here%22%29%3B%3C%2fscript%3E%0A%20%20%20%20%3C%2fscriptTask%3E%0A%20%20%20%20%3CinclusiveGateway%20id%3D%22_6%22%20name%3D%22Gateway1%22%20gatewayDirection%3D%22Diverging%22%20%2f%3E%0A%20%20%20%20%3CscriptTask%20id%3D%22_7%22%20name%3D%22Script1%22%20%3E%0A%20%20%20%20%20%20%3Cscript%3E%3C%2fscript%3E%0A%20%20%20%20%3C%2fscriptTask%3E%0A%20%20%20%20%3CparallelGateway%20id%3D%22_8%22%20name%3D%22Gateway2%22%20gatewayDirection%3D%22Converging%22%20%2f%3E%0A%0A%20%20%20%20%3C%21--%20connections%20--%3E%0A%20%20%20%20%3CsequenceFlow%20id%3D%22_1-_2%22%20sourceRef%3D%22_1%22%20targetRef%3D%22_2%22%20%2f%3E%0A%20%20%20%20%3CsequenceFlow%20id%3D%22_6-_3%22%20sourceRef%3D%22_6%22%20targetRef%3D%22_3%22%20name%3D%22constraint%22%20%3E%0A%20%20%20%20%20%20%3CconditionExpression%20xsi%3Atype%3D%22tFormalExpression%22%20%3EmanualProcess%3D%3Dtrue%3C%2fconditionExpression%3E%0A%20%20%20%20%3C%2fsequenceFlow%3E%0A%20%20%20%20%3CsequenceFlow%20id%3D%22_5-_4%22%20sourceRef%3D%22_5%22%20targetRef%3D%22_4%22%20%2f%3E%0A%20%20%20%20%3CsequenceFlow%20id%3D%22_8-_5%22%20sourceRef%3D%22_8%22%20targetRef%3D%22_5%22%20%2f%3E%0A%20%20%20%20%3CsequenceFlow%20id%3D%22_2-_6%22%20sourceRef%3D%22_2%22%20targetRef%3D%22_6%22%20%2f%3E%0A%20%20%20%20%3CsequenceFlow%20id%3D%22_6-_7%22%20sourceRef%3D%22_6%22%20targetRef%3D%22_7%22%20name%3D%22constraint2%22%20%3E%0A%20%20%20%20%20%20%3CconditionExpression%20xsi%3Atype%3D%22tFormalExpression%22%20%3EmanualProcess%20%3D%3D%20false%3C%2fconditionExpression%3E%0A%20%20%20%20%3C%2fsequenceFlow%3E%0A%20%20%20%20%3CsequenceFlow%20id%3D%22_7-_8%22%20sourceRef%3D%22_7%22%20targetRef%3D%22_8%22%20%2f%3E%0A%20%20%20%20%3CsequenceFlow%20id%3D%22_3-_8%22%20sourceRef%3D%22_3%22%20targetRef%3D%22_8%22%20%2f%3E%0A%0A%20%20%3C%2fprocess%3E%0A%0A%20%20%3Cbpmndi%3ABPMNDiagram%3E%0A%20%20%20%20%3Cbpmndi%3ABPMNPlane%20bpmnElement%3D%22newId%22%20%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNShape%20bpmnElement%3D%22_1%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdc%3ABounds%20x%3D%2214%22%20y%3D%22136%22%20width%3D%2248%22%20height%3D%2248%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNShape%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNShape%20bpmnElement%3D%22_2%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdc%3ABounds%20x%3D%2298%22%20y%3D%22137%22%20width%3D%22100%22%20height%3D%2245%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNShape%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNShape%20bpmnElement%3D%22_3%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdc%3ABounds%20x%3D%22313%22%20y%3D%2223%22%20width%3D%22100%22%20height%3D%2248%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNShape%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNShape%20bpmnElement%3D%22_4%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdc%3ABounds%20x%3D%22642%22%20y%3D%22151%22%20width%3D%2248%22%20height%3D%2248%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNShape%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNShape%20bpmnElement%3D%22_5%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdc%3ABounds%20x%3D%22521%22%20y%3D%22129%22%20width%3D%2280%22%20height%3D%2248%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNShape%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNShape%20bpmnElement%3D%22_6%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdc%3ABounds%20x%3D%22295%22%20y%3D%2295%22%20width%3D%2248%22%20height%3D%2248%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNShape%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNShape%20bpmnElement%3D%22_7%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdc%3ABounds%20x%3D%22312%22%20y%3D%22236%22%20width%3D%22100%22%20height%3D%2248%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNShape%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNShape%20bpmnElement%3D%22_8%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdc%3ABounds%20x%3D%22465%22%20y%3D%22111%22%20width%3D%2248%22%20height%3D%2248%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNShape%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNEdge%20bpmnElement%3D%22_1-_2%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%2238%22%20y%3D%22160%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22148%22%20y%3D%22159%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNEdge%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNEdge%20bpmnElement%3D%22_6-_3%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22319%22%20y%3D%22119%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22281%22%20y%3D%2270%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22363%22%20y%3D%2247%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNEdge%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNEdge%20bpmnElement%3D%22_5-_4%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22561%22%20y%3D%22153%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22666%22%20y%3D%22175%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNEdge%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNEdge%20bpmnElement%3D%22_8-_5%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22489%22%20y%3D%22135%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22561%22%20y%3D%22153%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNEdge%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNEdge%20bpmnElement%3D%22_2-_6%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22148%22%20y%3D%22159%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22319%22%20y%3D%22119%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNEdge%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNEdge%20bpmnElement%3D%22_6-_7%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22319%22%20y%3D%22119%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22285%22%20y%3D%22254%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22362%22%20y%3D%22260%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNEdge%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNEdge%20bpmnElement%3D%22_7-_8%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22362%22%20y%3D%22260%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22452%22%20y%3D%22255%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22489%22%20y%3D%22135%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNEdge%3E%0A%20%20%20%20%20%20%3Cbpmndi%3ABPMNEdge%20bpmnElement%3D%22_3-_8%22%20%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22363%22%20y%3D%2247%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22448%22%20y%3D%2268%22%20%2f%3E%0A%20%20%20%20%20%20%20%20%3Cdi%3Awaypoint%20x%3D%22489%22%20y%3D%22135%22%20%2f%3E%0A%20%20%20%20%20%20%3C%2fbpmndi%3ABPMNEdge%3E%0A%20%20%20%20%3C%2fbpmndi%3ABPMNPlane%3E%0A%20%20%3C%2fbpmndi%3ABPMNDiagram%3E%0A%0A%3C%2fdefinitions%3E";
function fnLoadBpmn(){

var sampleXml = "<?xml version=\"1.0\" encoding=\"UTF-8\"?> <def xmlns:di=\"http://www.omg.org/spec/DD/20100524/DI\"><di:process>sdf</di:process></def>";
var sampleXml = unescape(bpmnsrc);

if (window.DOMParser)
  {
  parser=new DOMParser();
  xmlDoc=parser.parseFromString(sampleXml,"text/xml");
  }
else // Internet Explorer
  {
  xmlDoc=new ActiveXObject("Microsoft.XMLDOM");
  xmlDoc.async="false";
  xmlDoc.loadXML(sampleXml); 
  }
$xml = $( xmlDoc );
processType = $xml.find( "dc\\:Bounds" );  
var paper = Raphael(document.getElementById("raphaeldiv"), 800, 600);

var bpmnEdge = $xml.find("bpmndi\\:BPMNEdge");
bpmnEdge.each(function(i,v){
	var shapeId = $(v).attr("bpmnElement");
	var elmName = $xml.find("[id='"+shapeId+"']").attr("name");
	var di = $(v).find("di\\:waypoint");
	var initialPoint = true;	
	var pathString = "";
	var startx, starty, endx, endy;
		di.each(function (i2,v2){
			var x = parseInt($(v2).attr("x"));
			var y = parseInt($(v2).attr("y"));
			pathString += (initialPoint)?"M ":"L "	
				if(initialPoint){
					startx = x;starty=y;
				}else{
					endx=x;endy=y;
				}	
		    pathString += x +" "+ y+" ";
			initialPoint = false;
		});
	 
		paper.path(pathString).attr("stroke","#eee");
		if(typeof(elmName) != 'undefined'){ 
			paper.text((startx+endx)/2, (starty+endy)/2, elmName);
		//	console.log(elmName + pathString);
		}
	});

var bpmnShape = $xml.find("bpmndi\\:BPMNShape");
bpmnShape.each(function(i,v){
	var shapeId = $(v).attr("bpmnElement");
	var elmName = $xml.find("[id='"+shapeId+"']").attr("name");
	var di = $(v).find("dc\\:Bounds");
	var x = parseInt(di.attr("x"));
	var y = parseInt(di.attr("y"));
	var width = parseInt(di.attr("width"));
	var height = parseInt(di.attr("height"));
	var c = paper.rect(x, y, width, height,2).attr({stroke:"#fff",fill:"#d0d098",opacity:1.0});
	var textLeftOffset = elmName.length/2*9;
	var t = paper.text(x+width/2, y+height/2, elmName).attr("fill","#000");
	//console.log(elmName+" "+di.tagName+" "+x+","+ y+","+ width+","+ height);
});

 

/*
//	$('#bpmndiv').load($('#bpmnname').val(),{command:'load',bpmnnname:$('#bpmnname').val()});
	var jqXHR = $.get($('#bpmnname').val(), function (data,status, jqXHR1) {
	alert(data);
		var xmlDoc =   jqXHR.responseText;
		$xml = $( jqXHR1 );
        $processType = $xml.find( 'rootcontainer' );  
		alert($processType.length );
	 
	},"xml");*/
}
</script>
</head>
<body>
<h3>BPMN viewer - raphael</h3>
File Name:<input type="text" id="bpmnname" name="bpmnname" /><input type="button" value="Load BPMN" onclick="fnLoadBpmn()" /><br/>
File:<input type="file" ><br/>
<div id="bpmndiv" class="">
	
</div>
<div id="raphaeldiv" class="" style="border:1px grey solid">
	
</div>
</body>
</html>